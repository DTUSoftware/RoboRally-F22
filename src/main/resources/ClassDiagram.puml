@startuml
'https://plantuml.com/class-diagram

skinparam classAttributeIconSize 0

package javafx {
    abstract class Node implements EventTarget, Styleable {}
    class Tab implements EventTarget, Styleable {}
    class Window implements EventTarget {}
    abstract class Parent extends Node {}
    class Region extends Parent {}
    abstract class Control extends Region implements Skinnable {}
    class Pane extends Region {}
    class VBox extends Pane {}
    class GridPane extends Pane {}
    class TabPane extends Control {}
    class MenuBar extends Control {}
    class StackPane extends Pane {}
    class BorderPane extends Pane {}
    class Stage extends Window {}
    abstract class Application {}
}

package designpatterns.observer {
    interface Observer {
        ~update(subject:Subject): void
    }
    abstract class Subject {
        -observers: Set<Observer>

        +attach(observer:Observer): void
        +detach(observer:Observer): void
        #notifyChange(): void
    }
}

package roborally {
    package controller {
        class AppController implements Observer {}
        class GameController {}
    }

    package model {
        class Board extends Subject {
            boardName
            gameID
            currentPlayer
            phase
            step
            stepMode
            moveCount
        }
        Board --> "1 -phase" Phase
        Board --> "2..6 -players" Player
        Board --> "* -spaces" Space

        enum Command {}

        class CommandCard extends Subject {

        }
        CommandCard --> "1 -command" Command

        class CommandCardField extends Subject {

        }

        enum Heading {}

        enum Phase {}

        class Player extends Subject {
            name
            color

            NO_REGISTERS
            NO_CARDS

        }
        Player --> "1 -heading" Heading
        Player *-- "*" CommandCard
        Player "1" -- "1" Space

        class Space extends Subject {
            x
            y
        }
        Space *-- "*" Object

        abstract class Object extends Subject {
        }

        class Pit extends Object {}

    }

    package view {
        class BoardView extends VBox implements ViewObserver {}
        class CardFieldView extends GridPane implements ViewObserver {}
        class PlayersView extends TabPane implements ViewObserver {}
        class PlayerView extends Tab implements ViewObserver {}
        class RoboRallyMenuBar extends MenuBar {}
        class SpaceView extends StackPane implements ViewObserver {}
        interface ViewObserver {}
    }

    class RoboRally extends Application {
        +main(args:String[]): void

        +init(): void
        +start(): void
        +createBoardView(): void
        +stop(): void
    }
    RoboRally --> "1 -boardRoot" BorderPane
    RoboRally --> "1 -stage" Stage

    class StartRoboRally {
        +main(args:String[]): void
    }
    StartRoboRally -> RoboRally
}


@enduml